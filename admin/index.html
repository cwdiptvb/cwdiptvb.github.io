<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Admin Panel</title>
</head>
<body style="margin:0;font-family:sans-serif;">

  <!-- Login Screen -->
  <div id="login-screen" style="display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background:#f4f4f4;">
    <h2 style="margin-bottom:10px;">Enter Password</h2>
    <input type="password" id="password-input" placeholder="Password" style="padding:10px;width:200px;margin-bottom:10px;border:1px solid #ccc;border-radius:4px;" />
    <button onclick="verifyPassword()" style="padding:10px 20px;border:none;background:#2c3e50;color:white;border-radius:4px;cursor:pointer;">Login</button>
    <p id="error-msg" style="color:red;margin-top:10px;"></p>
  </div>

  <!-- Main Content -->
  <div id="main-content" style="display:none;height:100vh;">
    <div style="width:200px;height:100%;background:#2c3e50;color:white;float:left;padding:20px;box-sizing:border-box;">
      <img src="logo.png" alt="Logo" style="width:100%;margin-bottom:20px;" />
      <ul style="list-style:none;padding:0;">
        <li style="margin:15px 0;"><a href="frame/1.html" target="content-frame" style="color:white;text-decoration:none;">MoveOnJoy Scan and update</a></li>
        <li style="margin:15px 0;"><a href="page2.html" target="content-frame" style="color:white;text-decoration:none;">Page 2</a></li>
        <li style="margin:15px 0;"><a href="page3.html" target="content-frame" style="color:white;text-decoration:none;">Page 3</a></li>
      </ul>
    </div>
    <div style="margin-left:200px;height:100%;">
      <iframe name="content-frame" src="page1.html" style="width:100%;height:100%;border:none;"></iframe>
    </div>
  </div>

  <!-- Inline Script -->
  <script>
    async function verifyPassword() {
      const input = document.getElementById("password-input").value;
      const hash = await sha256(input);
      const correctHash = "9ba4b2a581cad27c15c8d00f9d864968aad54118db2e0d39d1c5fa0368d22131"; // hash for "password"

      if (hash === correctHash) {
        document.getElementById("login-screen").style.display = "none";
        document.getElementById("main-content").style.display = "block";
      } else {
        const msg = document.getElementById("error-msg");
        msg.textContent = "Incorrect password. Please try again.";
        msg.style.animation = "shake 0.3s";
        setTimeout(() => msg.style.animation = "", 300);
      }
    }

    async function sha256(str) {
      const buf = new TextEncoder().encode(str);
      const digest = await crypto.subtle.digest("SHA-256", buf);
      return Array.from(new Uint8Array(digest))
        .map(b => b.toString(16).padStart(2, "0"))
        .join("");
    }
  </script>

</body>
</html>
